(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function(t){var n,r,i,a;return r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,n=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],a=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},i=function(e){var t;if(angular.isArray(e))return 0===e.length;if(angular.isObject(e))for(t in e)if(e.hasOwnProperty(t))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(l,s,o,u){var c,d,f,h,g,p,$,v,w,b,y,m,S;return s.addClass("localytics-chosen"),$=l.$eval(o.chosen)||{},angular.forEach(o,function(t,r){return e.call(n,r)>=0?$[a(r)]=l.$eval(t):void 0}),b=function(){return s.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},y=function(){return s.removeClass("loading").attr("disabled",!1).trigger("chosen:updated")},c=null,d=null,h=!1,g=function(){return c?s.trigger("chosen:updated"):(c=s.chosen($).data("chosen"),d=c.default_text)},w=function(){return h=!1,s.attr("data-placeholder",d)},f=function(){return h=!0,s.attr("data-placeholder",c.results_none_found).attr("disabled",!0).trigger("chosen:updated")},u?(v=u.$render,u.$render=function(){return v(),g()},o.multiple&&(S=function(){return u.$viewValue},l.$watch(S,u.$render,!0))):g(),o.$observe("disabled",function(){return s.trigger("chosen:updated")}),o.ngOptions&&u?(p=o.ngOptions.match(r),m=p[7],l.$watchCollection(m,function(e,n){var r;return r=t(function(){return angular.isUndefined(e)?b():(h&&w(),y(),i(e)?f():void 0)})}),l.$on("$destroy",function(e){return"undefined"!=typeof timer&&null!==timer?t.cancel(timer):void 0})):void 0}}}])}).call(this);