<h3>Job Request</h3>
<!-- Row Select Example-->
<style type="text/css">
table th {
    text-align: left !important;
}
</style>
<div class="panel panel-default" style="overflow-x: auto" ng-init="getJobRequestDetails()">
    <div class="panel-heading">
        <div class="row">
            
            <div class="col-sm-6">
                
                <div class="col-sm-4">
                    <button class="pull-left btn btn-labeled btn-primary" style="" ng-click="backToSearchReport()">
                        <span class="btn-label"><i class="fa fa-chevron-left"></i>
                     </span>Back</button>
                </div> 
                <div class="col-sm-8">
                </div>
            </div>
            <div class="col-sm-6"></div>
        </div>
    </div>
    <table ng-table="tableParams3" class="table table-striped table-bordered ng-table-rowselected" show-filter="true">
        <tr ng-repeat="job in $data | orderBy:['orderStatus','-createdDate']" ng-show="$data.length > 0">
            <td title="'Job Id'" filter="{ jobId: 'text'}" sortable="'jobId'" style="text-transform: capitalize;text-align: left;">{{job.jobId}}</td>
            <td title="'Customer Name'" filter="{ custName: 'text'}" sortable="'custName'" style="text-transform: capitalize;text-align: left;">{{job.custName}}</td>
            <td title="'Area'" filter="{ custArea: 'text'}" sortable="'custArea'" style="text-transform: capitalize;text-align: left;">{{job.custArea}}</td>
            <td title="'Driver Name'" filter="{ drvName: 'text'}" sortable="'drvName'" style="text-transform: capitalize;text-align: left;">{{job.drvName}}</td>
            <td title="'Driver Number'" filter="{ drvContactNo: 'text'}" sortable="'drvContactNo'" style="text-transform: capitalize;text-align: left;width: 10%">{{job.drvContactNo}}</td>
            <td title="'Driver Address'" filter="{ drvAddress: 'text'}" sortable="'drvAddress'" style="text-transform: capitalize;text-align: left;">{{job.freeAddress}},{{job.drvAddress}}</td>
            <td title="'Status'" filter="{ status: 'text'}" sortable="'status'" style="text-transform: capitalize;text-align: left;">{{job.status}}</td>
            <td title="'Remark'" filter="{ remark: 'text'}" sortable="'remark'" style="text-transform: capitalize;text-align: left;">{{job.remark}}</td>
           <td title="'Applied Date'" filter="{ date: 'text'}" sortable="'date'" style="text-transform: capitalize;text-align: left;">{{job.date}}</td>
           <td title="'Created By'" filter="{ createdByName: 'text'}" sortable="'createdByName'" style="text-transform: capitalize;text-align: left;">{{job.createdByName}}
            </td>
            <td title="'Edit'" style="text-align:left">
                <button class="btn btn-sm btn-info" ng-click="updateRequest(job.id)"><em class="fa fa-pencil-square-o"></em></button>
            </td>
            
           
        </tr>
        <tr ng-show="$data.length == 0">
            <td>No record found</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
    </table>
</div>


<script type="text/ng-template" id="/updateRequest.html">
    <div class="modal-header" style="border:-1px;background-color:gainsboro;" ng-cloak>
        <div class="col-xs-12 text-center" ng-init="fetchRequestDetails()" style="margin-top: -15px; font-size: 20px;"> Update
            <div style="float:right; width: 20px;">
                <a style="cursor:pointer;"><span class="fa fa-times" ng-click="closeModal()"></span></a>
            </div>
        </div>
    </div>
    <div class="modal-body" ng-cloak>
       <div class="col-xs-12">
            <h4> Customer Name: {{job.custName}}</h4>
        </div>
       <div class="col-xs-12">
       <legend><h4> Request Details </h4></legend>
        </div>

        <div>
            <form class="form-horizontal ng-pristine ng-valid">
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-12 margin-bottom-10">
                                <div class="col-xs-4">
                                    <label class="margin-bottom-0">
                                        <strong>Contact Number:</strong>
                                    </label>
                                    <br/>
                                    <input type="text" id="drvContactNo" class=" input-hover" style="width: 200px;" ng-model="job.drvContactNo" minlength="10" maxlength="10" placeholder="Mobile Number" numbers-only="numbers-only" readonly>
                                   
                                </div>
                                <div class="col-xs-4">
                                    <label class="margin-bottom-0"><strong>Driver Name:</strong></label>
                                    <input type="text" id="drvFirstName" class=" input-hover" style="width: 200px;" ng-model="job.drvFirstName" placeholder="First Name" readonly>
                                    
                                </div>
                                <div class="col-xs-4">
                                    <label class="margin-bottom-0">
                                        <strong>&nbsp;</strong>
                                    </label>
                                    <input type="text" id="drvLastName" class=" input-hover" style="width: 200px;" ng-model="job.drvLastName" placeholder="Last Name" readonly>
                                   
                                </div>
                            </div>
                            <div class="col-xs-12 margin-bottom-10">
                                <div class="col-xs-4">
                                    <label class="margin-bottom-0">Status</label>
                                    <br/>
                                    <select class="form-control input-hover" id="status" ng-model="job.status" ng-options="sa.desc as sa.desc for sa in statusArray" style="padding: 0px 16px;height:25px; width: 150px">
                                        <option value="">--Select--</option>
                                    </select>
                                    <span id="status1" style="color:red"></span>
                                </div>
                                <div class="col-xs-8">
                                    <label class="margin-bottom-0">
                                        <strong>Address:</strong>
                                    </label>
                                    <br/>
                                    <input type="text" id="drvAddress" class="input-hover" ng-model="job.drvAddress" readonly>
                                   
                                </div>
                            </div>
                            <div class="col-xs-12 margin-bottom-10">
                                <div class="col-xs-6">
                                    <label class="margin-bottom-0"><strong>Remark</strong></label>
                                    <textarea rows="2" cols="30" class="input-hover" id="remark" ng-model="job.remark" placeholder="Remark"></textarea>
                                </div>
                            </div>
                            <br>
                            <br>
                            <div class="col-xs-12" style="margin-bottom: 20px; margin-top: 10px;">
                                <div class="col-xs-4">
                                </div>
                                <div class="col-xs-4" style="text-align:center">
                                    <button class="mb-sm btn btn-success" ng-disabled="isDisabledButton" ng-click="updateRequestDetails(job)">Update</button>
                                </div>
                                <div class="col-xs-4">
                                </div>
                            </div>
                        </div>
                    </div>
            </form>
            </div>
        </div>
    </div>
    <div class="modal-footer" style="text-align:center;border:-1px;background-color:gainsboro;">
    </div>
</script>
